# Tool Fails

- "calculator", // breaks agents, TypeNames are not correct, needs fixed in zod2jsonschema
- "memory-query" // breaks agents, when used they can respond,  need to be removed from agent tools or refactored
"calculate-reward",
"define-reward-function",
"optimize-policy"
"llm-chain",
"google-search",
"exa_search",

## testing

"tickerDetails"
"tickerNews"
"tickerAggregates"
"tickerPreviousClose"
"cryptoAggregates"
"cryptoPrice",
"cryptoTickers",
"reddit_searchPosts"
"reddit_getPost"
"reddit_listSubredditPosts"
"reddit_getSubreddit"



"summarization-eval",



## working but careful one breakage when used in agents & checking traces

"format-content",
    "search-documents",
    "read-file",
    "write-file",
    "collect-feedback",
    "brave-search",
    "github_get_user_by_username",
    "github_search_repositories",
    "github_list_user_repos",
    "github_get_repo",
    "github_search_code",
    "read-knowledge-file",
    "write-knowledge-file",
    "arxiv_search",
    "bias-eval",
    "toxicity-eval",
    "hallucination-eval",
    "summarization-eval",
    "token-count-eval",
    "completeness-eval",
    "content-similarity-eval",
    "answer-relevancy-eval",
    "context-precision-eval",
    "create-graph-rag",
    "graph-rag-query",
    "execute_python",
    "wikipedia_get_page_summary",
    "vector-query",
    "google-vector-query",
    "filtered-vector-query",
    "tavily-search",
    
"token-count-eval",
"completeness-eval",
"content-similarity-eval",
"answer-relevancy-eval",
"context-precision-eval",
"context-position-eval"
"tone-consistency-eval",
"keyword-coverage-eval",
"textual-difference-eval",
"faithfulness-eval",
"bias-eval",
"toxicity-eval",
"hallucination-eval",

## 100% working

    ```ts
    "read-file", // Corrected ID
    "write-file", // Corrected ID
    "tavily-search", // Specific search tool
    "brave-search", // Specific search tool
    "vector-query", // Specific vector tool
    "google-vector-query", // Specific vector tool
    "filtered-vector-query", // Specific vector tool
    "search-documents", // Specific document tool
    "github_search_repositories",
    "github_list_user_repos",
    "github_get_repo",
    "github_search_code",
    "read-knowledge-file",
    "write-knowledge-file",
    "arxiv_search",
    "bias-eval",
    "toxicity-eval",
    "hallucination-eval",
    "summarization-eval",
    "token-count-eval",
    "create-graph-rag",
    "graph-rag-query",
    "execute_python",
    "wikipedia_get_page_summary",
    "context-precision-eval",
    "embed-document",
    ```



## Troubleshooting `zod2jsonschema` Issues

### Context

*   Using `zod2jsonschema` to define the structure of agent responses and tool inputs.
*   Specifically for agentic tools like Arxiv, Github, and E2B sandboxes.
*   JSON Schema is used as a data contract for APIs and tools.

### Troubleshooting Steps

1.  **Focus on the Data Flow:**
    *   Trace the data from the agent's response or tool input, through the `zod2jsonschema` conversion, and into the target system (e.g., Arxiv API, Github API, E2B sandbox).
    *   Identify where the data is being transformed or validated along the way.

2.  **Inspect the Generated JSON Schemas:**
    *   Examine the JSON schemas generated by `zod2jsonschema` for the problematic tools.
    *   Look for any inconsistencies, errors, or unexpected structures.
    *   Use online JSON Schema validators to check the validity of the generated schemas.

3.  **Validate Against API Requirements:**
    *   Compare the generated JSON schemas with the expected input formats of the Arxiv, Github, and E2B APIs.
    *   Ensure that the schema accurately reflects the required data types, formats, and constraints.

4.  **Isolate the Zod Schemas:**
    *   Create minimal, self-contained Zod schemas that reproduce the issues you're seeing.
    *   This will help narrow down the problem to specific schema constructs or patterns.

5.  **Test with Static Data:**
    *   Instead of relying on agent responses or tool inputs, try converting static Zod schemas to JSON Schema and validating them against the API requirements.
    *   This will eliminate any potential issues with the data itself.

6.  **Consider Custom Schema Generation:**
    *   If `zod2jsonschema` is consistently generating incorrect schemas, consider writing your own custom code to generate JSON schemas from your Zod schemas.
    *   This would give you more control over the conversion process.

7.  **Versioning and Updates:**
    *   Ensure that you're using compatible versions of `zod`, `zod2jsonschema`, and any related libraries.
    *   Check for recent updates or bug fixes that might address the issues you're seeing.

### E2B Sandbox Considerations

*   Pay close attention to how the generated JSON schemas are used to define the input and output formats of the sandbox environment.
*   Ensure that the schemas are compatible with the sandbox's data validation mechanisms.
