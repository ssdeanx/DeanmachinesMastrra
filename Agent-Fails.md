# Tool Fails

- "calculator", // semi-works doesnt provide an answer just a response
- "memory-query" // breaks agents, when used they can respond,  need to be removed from agent tools or refactored

## testing

- "calculate-reward", // RL tool, not sure if it works but alot unread items in rlReward
- "define-reward-function", // RL tool, not sure if it works but alot unread items in rlReward
- "optimize-policy", // RL tool, not sure if it works but alot unread items in rlReward
- 'midjourney_create_images', // needs output schema patched
- "ai-sdk-prompt" // not tested yet, but seems to be a wrapper for the other tools
- "llm-chain", // not tested yet
- "create-graph-rag",
- "graph-rag-query",
- "wikipedia_search",
- "wikipedia_get_page_summary",
- "vector-query", // tiktoken vectorizer hasnt been tested yet
- "google-vector-query", // google vectorizer hasnt been tested yet
- "filtered-vector-query", // tiktoken vectorizer with metadata filter hasnt been tested yet
- "google-search", // google search tool hasnt been tested yet but probably needs checked its @agentic
- 'google_drive_list_files', // needs checked if output schema patched
- 'google_drive_get_file', // needs checked if output schema patched
- 'google_drive_export_file', // needs checked if output schema patched
- 'google_drive_create_folder', // needs checked if output schema patched
- 'google_docs_get_document', // needs checked if output schema patched
- "execute_python", // might work, pretty sure it does but not tested yet, could use typescript tool as well

## Troubleshooting `zod2jsonschema` Issues

### Context

*   Using `zod2jsonschema` to define the structure of agent responses and tool inputs.
*   Specifically for agentic tools like Arxiv, Github, and E2B sandboxes.
*   JSON Schema is used as a data contract for APIs and tools.

### Troubleshooting Steps

1.  **Focus on the Data Flow:**
    *   Trace the data from the agent's response or tool input, through the `zod2jsonschema` conversion, and into the target system (e.g., Arxiv API, Github API, E2B sandbox).
    *   Identify where the data is being transformed or validated along the way.

2.  **Inspect the Generated JSON Schemas:**
    *   Examine the JSON schemas generated by `zod2jsonschema` for the problematic tools.
    *   Look for any inconsistencies, errors, or unexpected structures.
    *   Use online JSON Schema validators to check the validity of the generated schemas.

3.  **Validate Against API Requirements:**
    *   Compare the generated JSON schemas with the expected input formats of the Arxiv, Github, and E2B APIs.
    *   Ensure that the schema accurately reflects the required data types, formats, and constraints.

4.  **Isolate the Zod Schemas:**
    *   Create minimal, self-contained Zod schemas that reproduce the issues you're seeing.
    *   This will help narrow down the problem to specific schema constructs or patterns.

5.  **Test with Static Data:**
    *   Instead of relying on agent responses or tool inputs, try converting static Zod schemas to JSON Schema and validating them against the API requirements.
    *   This will eliminate any potential issues with the data itself.

6.  **Consider Custom Schema Generation:**
    *   If `zod2jsonschema` is consistently generating incorrect schemas, consider writing your own custom code to generate JSON schemas from your Zod schemas.
    *   This would give you more control over the conversion process.

7.  **Versioning and Updates:**
    *   Ensure that you're using compatible versions of `zod`, `zod2jsonschema`, and any related libraries.
    *   Check for recent updates or bug fixes that might address the issues you're seeing.

### E2B Sandbox Considerations

*   Pay close attention to how the generated JSON schemas are used to define the input and output formats of the sandbox environment.
*   Ensure that the schemas are compatible with the sandbox's data validation mechanisms.
